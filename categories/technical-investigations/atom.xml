<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Technical Investigations on ipfans's Blog</title><link>https://www.4async.com/categories/technical-investigations/</link><description>Recent content in Technical Investigations on ipfans's Blog</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Sat, 08 May 2021 18:38:00 +0000</lastBuildDate><atom:link href="https://www.4async.com/categories/technical-investigations/atom.xml" rel="self" type="application/rss+xml"/><item><title>æ„å»ºå±äºä½ è‡ªå·±çš„dapræœåŠ¡å‘ç°</title><link>https://www.4async.com/2021/05/building-your-own-dapr-service-discovery/</link><pubDate>Sat, 08 May 2021 18:38:00 +0000</pubDate><guid>https://www.4async.com/2021/05/building-your-own-dapr-service-discovery/</guid><description>å†™åœ¨æœ€å‰: è¿™ç¯‡æ–‡ç« å…¶å®ç®—æ˜¯é©¬åç‚®äº†ï¼Œå› ä¸ºä¸€ç›´æ‹–å»¶ç—‡çš„é—®é¢˜ï¼Œé¡ºå¸¦è¿‡äº†ä¸€ä¸ªäº”ä¸€å‡æœŸï¼Œç»“æœå‘ç°å·²ç»æœ‰ç¤¾åŒºè´¡çŒ®è€…æä¾›äº†Consulçš„æœåŠ¡å‘ç°å®ç°ï¼Œäºæ˜¯æœ¬æ¥å†™äº†ä¸€åŠçš„æ–‡ç« åªèƒ½è¿›è¡Œè°ƒæ•´äº†ã€‚æ‹–å»¶ç—‡å®³äººå•Šï¼å‡ ä¸ªè‰ç¨¿çš„æ–‡ç« çœ‹æ¥è¦å°½å¿«èµ¶å‡ºæ¥äº†ğŸ¤¦â€â™‚ï¸
åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å…¶å®é—ç•™äº†ä¸€ä¸ªé—®é¢˜ï¼šå¦‚ä½•å®šä¹‰daprçš„æœåŠ¡å‘ç°å‘¢ï¼Ÿå…¶å®åœ¨åé¢é˜…è¯»daprçš„æºç ä¹‹åä¹Ÿå‰ä¸€ç¯‡æ–‡ç« çš„è¯„è®ºä¸­æåˆ°äº†ç­”æ¡ˆï¼šç›®å‰dapræä¾›äº†å†…ç½®ä¸¤ç§æœåŠ¡å‘ç°æ¨¡å¼ï¼šK8sæ¨¡å¼å’Œç”¨äºç‹¬ç«‹éƒ¨ç½²çš„mDNSæ¨¡å¼ã€‚mDNSæ¨¡å¼åœ¨æŸäº›ç½‘ç»œç¯å¢ƒä¸‹å¯èƒ½å­˜åœ¨é—®é¢˜ï¼ˆæ¯”å¦‚è·¨æœºæˆ¿ï¼‰ï¼Œä¸è¿‡æ²¡æœ‰å…³ç³»ï¼ŒdapråŒæ—¶æä¾›äº†å¯æ‰©å±•èƒ½åŠ›ï¼Œå¯ä»¥é€šè¿‡å®šä¹‰è‡ªä¸»çš„æœåŠ¡å‘ç°èƒ½åŠ›æ‰©å±•daprçš„è¾¹ç•Œã€‚
ä» NameResolution åˆ° Resolver æ¥å£ åœ¨ pkg/components/nameresolution/registry.go æ–‡ä»¶ä¸­ï¼Œdaprå®šä¹‰äº†ä¸€ä¸ª NameResolution ç»“æ„ä½“ç”¨äºæœåŠ¡æ³¨å†Œå’Œå‘ç°ï¼š
type ( // NameResolution is a name resolution component definition. NameResolution struct { Name string FactoryMethod func() nr.Resolver } // Registry handles registering and creating name resolution components. Registry interface { Register(components ...NameResolution) Create(name, version string) (nr.Resolver, error) } nameResolutionRegistry struct { resolvers map[string]func() nr.Resolver } ) å…¶ä¸­çœŸæ­£çš„æœåŠ¡è§£æåˆ™æ˜¯ä¾é  components-contrib ä¸­å®ç°äº† Resolver æ¥å£çš„å…·ä½“å®ç°æ‰§è¡Œã€‚
// Resolver is the interface of name resolver.</description></item><item><title>åœ¨éå®¹å™¨(é›†ç¾¤)ç¯å¢ƒä¸‹è¿è¡Œdapr</title><link>https://www.4async.com/2021/03/2021-03-11-running-dapr-without-container/</link><pubDate>Thu, 11 Mar 2021 18:38:00 +0000</pubDate><guid>https://www.4async.com/2021/03/2021-03-11-running-dapr-without-container/</guid><description>å‰ä¸€æ®µæ—¶é—´ä¸€ç›´å…³æ³¨çš„dapræ­£å¼å‘å¸ƒäº†v1.0ç‰ˆæœ¬(å®é™…ä¸Šæœ¬æ–‡å‘å¸ƒæ—¶è¿˜æ›´æ–°äº†v1.0.1)ï¼Œä»£è¡¨dapråœ¨æŸäº›ç¨‹åº¦ä¸Šè¿›å…¥ç¨³å®šçŠ¶æ€ï¼Œå¯ä»¥å°è¯•åœ¨å®é™…ä¸­è¿›è¡Œè¿ç”¨ã€‚ä½œä¸ºæˆ‘ä¸€ç›´å…³æ³¨çš„é¡¹ç›®ï¼Œåœ¨ç¬¬ä¸€æ—¶é—´ä¸­è¿›è¡Œäº†å°è¯•ï¼Œå¹¶è¯•å›¾å¼•å…¥å®é™…é¡¹ç›®ä¸­ï¼Œæœ¬æ–‡åˆ™æ˜¯é’ˆå¯¹è¿™äº›çš„ä¸€äº›å…ˆæœŸæµ‹è¯•å†…å®¹.
ä»€ä¹ˆæ˜¯daprï¼Ÿ dapræœ€æ—©æ˜¯ç”±å¾®è½¯å¼€æºçš„(ä¸æ„§æ˜¯ä½ )ï¼Œä¸€ä¸ªå¯ç§»æ¤çš„ã€äº‹ä»¶é©±åŠ¨çš„ç¨‹åºè¿è¡Œæ—¶ï¼Œå®ƒä½¿ä»»ä½•å¼€å‘è€…éƒ½èƒ½è½»æ¾åœ°æ„å»ºè¿è¡Œåœ¨äº‘å’Œè¾¹ç¼˜çš„å¼¹æ€§ã€æ— çŠ¶æ€/æœ‰çŠ¶æ€çš„åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”å¯ä»¥çµæ´»æ”¯æŒå¤šç§å¼€å‘è¯­è¨€ã€‚æ¢è€Œè¨€ä¹‹ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œdaprå¯ä»¥ä½œä¸ºä¸€ä¸ªserverlessè½åœ°æ–¹æ¡ˆçœ‹å¾…å’Œå¤„ç†ï¼Œå¯¹ç¨‹åºè€Œè¨€ï¼Œåªå…³æ³¨æä¾›çš„storeå’Œæ¶ˆæ¯é˜Ÿåˆ—æ¥å£ï¼Œæ— éœ€å…³å¿ƒæ¶æ„å±‚é¢æ›´å¤šå†…å®¹ã€‚
ä¸è¿‡åœ¨å®˜æ–¹çš„ç¤ºä¾‹æ•™ç¨‹ä¸­ï¼Œä½¿ç”¨çš„ç¯å¢ƒä¸ºå®¹å™¨ç¯å¢ƒéƒ¨ç½²å’Œç®¡ç†daprã€‚å®é™…ä¸Šï¼Œé™¤äº†åœ¨å®¹å™¨ç¯å¢ƒæˆ–è€…å®¹å™¨é›†ç¾¤ç¯å¢ƒä¸‹ï¼Œdaprå¯ä»¥é…ç½®ä¸ºåœ¨æœ¬åœ°æœºå™¨ä¸Šä»¥è‡ªæ‰˜ç®¡æ¨¡å¼è¿è¡Œã€‚
æœ¬åœ°å®‰è£… daprå®‰è£…å¯ä»¥é€šè¿‡å®˜æ–¹çš„dapr-cliå®ç°ï¼Œdapr-cliå¯ä»¥é€šè¿‡ä¸€é”®å®‰è£…å‘½ä»¤å¿«é€Ÿå®‰è£…ï¼š
# wget -q https://raw.githubusercontent.com/dapr/cli/master/install/install.sh -O - | /bin/bash Your system is linux_amd64 Dapr CLI is detected: main: line 86: 43656 Segmentation fault $DAPR_CLI_FILE --version Reinstalling Dapr CLI - /usr/local/bin/dapr... Getting the latest Dapr CLI... Installing v1.0.0 Dapr CLI... Downloading https://github.com/dapr/cli/releases/download/v1.0.0/dapr_linux_amd64.tar.gz ... dapr installed into /usr/local/bin successfully. CLI version: 1.0.0 Runtime version: n/a To get started with Dapr, please visit https://docs.dapr.io/getting-started/ å¯ä»¥é€šè¿‡è¾“å…¥daprå‘½ä»¤ç¡®è®¤dapr-cliç¨‹åºæ˜¯å¦è¢«æ­£å¸¸å®‰è£…æˆåŠŸã€‚
æ¥ä¸‹æ¥ä½¿ç”¨dapr-cliå®‰è£…æ‰€æœ‰çš„runtimeç­‰åº”ç”¨ã€‚
# dapr init --slim âŒ› Making the jump to hyperspace.</description></item><item><title>NATS-Server(JetStream)å’ŒNATS Streaming Serverå¯¹æ¯”</title><link>https://www.4async.com/2021/03/2021-03-02-nats-server-usage/</link><pubDate>Tue, 02 Mar 2021 18:38:00 +0000</pubDate><guid>https://www.4async.com/2021/03/2021-03-02-nats-server-usage/</guid><description>åœ¨æˆ‘åæ§½äº†æ— æ•°æ¬¡ä¹‹åï¼ŒNATS JetStreamç»ˆäºç»“æŸäº†betaé˜¶æ®µæ­£å¼è¿›å…¥RCé˜¶æ®µã€‚ç»ˆäºå®˜æ–¹ä¹Ÿåœ¨æœ€è¿‘åˆšåˆšæ­£å¼å›å¤äº†æˆ‘æ­£å¼ç‰ˆæœ¬åœ¨å¤„ç†å‡ ä¸ªé—®é¢˜ä¹‹åå°±ä¼šæ­£å¼å‘å¸ƒã€‚é‚£ä¹ˆåœ¨è¿™ä¸ªæ¯”è¾ƒé‡è¦çš„NATS-Serverç‰¹æ€§å‘å¸ƒä¹‹é™…èŠä¸€ä¸‹NATSäº§å“æœ¬èº«åŒºåˆ«å’Œæ–°ç‰¹æ€§çš„ä½¿ç”¨ï¼Œè¿˜æœ‰æ›´å¤šçš„æ½œåœ¨çš„åŒºåˆ«ã€‚
æ¦‚å¿µåŒºåˆ†ï¼šNATS-Server / NATS Streaming Server / NATS JetStream NATS-Server NATS-Serverï¼ˆæˆ–è€…å«natsï¼‰æ˜¯ä¸€ä¸ªå¼€æºçš„ã€äº‘åŸç”Ÿçš„ã€é«˜æ€§èƒ½çš„æ¶ˆæ¯ä¼ é€’ç³»ç»Ÿï¼Œæ˜¯NATSçš„æœ€åŸºç¡€çš„äº§å“ã€‚å®ƒçš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªå‘å¸ƒ/è®¢é˜…ï¼ˆPub/Subï¼‰ç³»ç»Ÿï¼Œå®¢æˆ·ç«¯å¯ä»¥åœ¨ä¸åŒé›†ç¾¤ä¸­çš„æœåŠ¡é—´natsè¿›è¡Œé€šè®¯ï¼Œè€Œä¸éœ€è¦å…³æ³¨å…·ä½“çš„æ¶ˆæ¯åœ¨å“ªä¸ªæœåŠ¡ä¸Šã€‚æ¢è€Œè¨€ä¹‹ï¼Œå®¢æˆ·ç«¯å¯ä»¥åœ¨ä»»æ„ä¸€ä¸ªé›†ç¾¤çš„æœåŠ¡ç«¯ä¸Šå‘å¸ƒæ¶ˆæ¯ï¼ŒåŒæ—¶åœ¨ä»»æ„é›†ç¾¤å®¢æˆ·ç«¯ä¸Šå°è¯•è¯»å–æ¶ˆæ¯ã€‚åœ¨å®˜æ–¹ä¸å…¶ä»–åŒç±»æ¶ˆæ¯é˜Ÿåˆ—äº§å“åŠŸèƒ½å¯¹æ¯”ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç®¡çª¥ä¸€ä¸‹äº§å“çš„åŠŸèƒ½åˆ—è¡¨ã€‚natsæ”¯æŒå¤šæµå¤šæœåŠ¡è¿›è¡Œpub/subï¼Œè´Ÿè½½å‡è¡¡ï¼Œä¿éšœæ¶ˆæ¯æœ€å¤š/æœ€å°‘ä¸€æ¬¡é€è¾¾ï¼Œå¤šç§Ÿæˆ·å’Œç”¨æˆ·è®¤è¯ç­‰åŠŸèƒ½ã€‚è™½ç„¶çœ‹ä¸Šå»ä¼˜ç‚¹å¾ˆå¤šï¼Œä½†æ˜¯natsä¸æ˜¯ä¸€ä¸ªåº”ç”¨å¾ˆå¹¿çš„æ¶ˆæ¯é˜Ÿåˆ—çš„é‡è¦åŸå› æ˜¯ï¼Œå®ƒç¼ºå°‘äº†ä¸€äº›å¯¹æ¶ˆæ¯é˜Ÿåˆ—è€Œè¨€å¾ˆæœ€é‡è¦çš„äº§å“ç‰¹æ€§ï¼Œæ¯”å¦‚æŒä¹…åŒ–æ”¯æŒï¼Œæ¯”å¦‚æ¶ˆæ¯ç¡®ä¿ä¸€æ¬¡é€è¾¾ã€‚è¿™æ„å‘³ç€å½“ä½ çš„æ¶ˆæ¯å‘é€å‡ºå»ä¹‹åï¼Œä½ çš„æ¶ˆæ¯æ˜¯åœ¨å¤„ç†è¿‡ç¨‹ä¸­å¯èƒ½ä¸¢å¤±çš„ï¼Œç”šè‡³æ˜¯å¯èƒ½é€è¾¾ä¸åˆ°çš„ã€‚
NATS Streaming Server NATS Streaming Serverï¼ˆæˆ–è€…å«stanï¼‰æ˜¯ç”¨äºå°è¯•è§£å†³ä¸Šé¢æåˆ°çš„natsçš„å·²å­˜åœ¨é—®é¢˜çš„ã€‚stanæ·»åŠ äº†æŒä¹…åŒ–åŠŸèƒ½å’Œæ¶ˆæ¯é€è¾¾ç­–ç•¥æ”¯æŒã€‚stanä¸­è‡ªå¸¦äº†natsæœåŠ¡ç«¯ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œnatså’Œstanä¸èƒ½è¿›è¡Œæ··ç”¨ã€‚åœ¨å®˜æ–¹æ–‡æ¡£ä¸­ï¼Œæ˜¯è¿™ä¹ˆæè¿°stanå’Œnatsä¹‹é—´çš„å…³ç³»çš„ï¼š
NATSå®¢æˆ·ç«¯å’ŒNATS Streaming Serverå®¢æˆ·ç«¯ä¹‹é—´ä¸èƒ½ç›¸äº’äº¤æ¢æ•°æ®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä¸€ä¸ªNATS Streaming Serverå®¢æˆ·ç«¯åœ¨fooä¸Šå‘å¸ƒæ¶ˆæ¯ï¼Œåœ¨åŒä¸€ä¸»é¢˜ä¸Šè®¢é˜…çš„NATSå®¢æˆ·ç«¯å°†ä¸ä¼šæ”¶åˆ°æ¶ˆæ¯ã€‚NATS Streaming Serveræ¶ˆæ¯æ˜¯ç”±protobufç»„æˆçš„NATSæ¶ˆæ¯ã€‚NATS Streaming Serverè¦å‘ç”Ÿäº§è€…å‘é€ACKï¼Œå¹¶æ¥æ”¶æ¶ˆè´¹è€…çš„ACKã€‚å¦‚æœä¸NATSå®¢æˆ·ç«¯è‡ªç”±äº¤æ¢æ¶ˆæ¯ï¼Œå°±ä¼šå¼•èµ·é—®é¢˜ã€‚
stançš„å…·ä½“æ¶æ„å¦‚ä¸‹å›¾ï¼š
ä½†æ˜¯stanè™½ç„¶æä¾›äº†æŒä¹…åŒ–å’Œæ¶ˆæ¯ä¼ é€’ç­–ç•¥æ”¯æŒï¼Œä½†æ˜¯åœ¨æ¶æ„è®¾è®¡ä¸Šå´å‡ºç°äº†é—®é¢˜ï¼Œå¯¼è‡´åœ¨æœ€å¼€å§‹è®¾è®¡æ—¶é—ç•™äº†å¾ˆå¤šé—®é¢˜ï¼Œæ¯”å¦‚å½“ä½ ç¡®å®šstané›†ç¾¤æ˜¯å›ºå®šçš„ä¸èƒ½æ— é™åˆ¶æ°´å¹³æ‰©å®¹(#999)ï¼Œæ¯”å¦‚ä¸æ”¯æŒå¤šç§Ÿæˆ·åŠŸèƒ½(#1122)ï¼Œæ¯”å¦‚å®¢æˆ·ç«¯æ— æ³•ä¸»åŠ¨æ‹‰å–æ¶ˆæ¯åªèƒ½è¢«æ¨é€ç­‰ç­‰
NATS JetStream NATS JetStreamï¼ˆæˆ–è€…å«JetStreamï¼‰æ˜¯NATSåŸºäºRaftç®—æ³•å®ç°çš„æœ€æ–°çš„æ¶æ„è®¾è®¡å°è¯•è§£å†³ä¸Šè¿°é—®é¢˜çš„æ–°æ–¹æ¡ˆã€‚åœ¨åŒºåˆ«äºåŸæœ‰çš„stanåŠŸèƒ½ä¸Šï¼Œæä¾›äº†æ–°çš„æŒä¹…åŒ–åŠŸèƒ½å’Œæ¶ˆæ¯é€è¾¾ç­–ç•¥ï¼ŒåŒæ—¶æ”¯æŒæ°´å¹³æ‰©å®¹ã€‚åŒæ—¶ï¼Œæ–°çš„JetStreamä¹Ÿä¸ºå¤§æ¶ˆæ¯åšäº†ä¸€äº›ä¼˜åŒ–ï¼Œä¸å†å°†è¿™ç‰¹æ€§åŠŸèƒ½ä½œä¸ºnatsçš„å®¢æˆ·ç«¯å­˜åœ¨è€Œæ˜¯åµŒå…¥NATS Serverä¸­ä½œä¸ºå…¶ä¸­çš„ä¸€ä¸ªåŠŸèƒ½å­˜åœ¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœåœ¨å¯¹è¿™å‡ é¡¹æŠ€æœ¯è¿›è¡Œé€‰æ‹©æ—¶ï¼ŒJetStreamåº”è¯¥æ˜¯æœ€åº”è¯¥è¢«é€‰æ‹©çš„æ–¹æ¡ˆã€‚æ›´å¤šè¯¦ç»†æƒ…å†µå…·ä½“å¯ä»¥æŸ¥çœ‹å®˜æ–¹çš„æŒ‡å¯¼æ–‡æ¡£ã€‚
NATS JetStreamä½¿ç”¨ ç†è®ºä»‹ç»è¿‡äº†ï¼Œæ¥ä¸‹æ¥è¯´è¯´å®é™…ä½¿ç”¨çš„äº‹æƒ…ã€‚ç°åœ¨JetStreamè¿˜æ˜¯RCé˜¶æ®µï¼Œ
ç¼–è¯‘å’Œå¯åŠ¨å®¢æˆ·ç«¯ ä¸‹è½½nats-serveræºç ï¼Œè§£å‹ä¹‹åæ‰§è¡Œï¼š
cd nats-server-master go build -o nats-server -ldflags=&amp;quot;-s -w -buildid=&amp;quot; . ./nats-server -js è¿™æ ·å°±å¯ä»¥å¯åŠ¨ä¸€ä¸ªæ”¯æŒJetStreamåŠŸèƒ½çš„æœåŠ¡ç«¯äº†ã€‚
[54738] 2021/03/02 18:27:02.605197 [INF] Starting nats-server [54738] 2021/03/02 18:27:02.605236 [INF] Version: 2.2.0-RC.2 [54738] 2021/03/02 18:27:02.605238 [INF] Git: [not set] [54738] 2021/03/02 18:27:02.</description></item><item><title>OpenTelemetryå…¥é—¨</title><link>https://www.4async.com/2020/03/2020-03-31-intro-opentelemetry/</link><pubDate>Tue, 31 Mar 2020 11:10:00 +0000</pubDate><guid>https://www.4async.com/2020/03/2020-03-31-intro-opentelemetry/</guid><description>&lt;p>ä»Šå¤©æ—©äº›æ—¶å€™ï¼Œ&lt;a class="link" href="https://opentelemetry.io/" target="_blank" rel="noopener"
>OpenTelemetry&lt;/a>æ­£å¼&lt;a class="link" href="https://medium.com/opentelemetry/opentelemetry-is-officially-in-beta-352fa859db10" target="_blank" rel="noopener"
>è¿›å…¥Betaç‰ˆæœ¬é˜¶æ®µ&lt;/a>ï¼Œè¿™æ ‡å¿—ç€OpenTelemetryçš„åŸºæœ¬æ¨¡å‹å·²ç»æ­£å¼ç¡®å®šï¼Œå¯ä»¥å¼€å§‹å°†OpenTelemetryé›†æˆåˆ°åº”ç”¨ç¨‹åºå’Œå®¢æˆ·ç«¯åº“ä¸­ï¼Œä»¥æ•è·åº”ç”¨ç¨‹åºçº§æŒ‡æ ‡å’Œåˆ†å¸ƒå¼è·Ÿè¸ªã€‚&lt;/p></description></item><item><title>åˆ©ç”¨Stub Fileæ ‡æ³¨Pythonæ–‡ä»¶</title><link>https://www.4async.com/2019/01/2019-01-28-python-typing-with-stub-files/</link><pubDate>Tue, 29 Jan 2019 14:30:00 +0000</pubDate><guid>https://www.4async.com/2019/01/2019-01-28-python-typing-with-stub-files/</guid><description>&lt;p>åœ¨å‡çº§åˆ°&lt;code>Python 3.5+&lt;/code>ç‰ˆæœ¬ä¹‹åï¼Œæœ€å¤§çš„é¡¹ç›®ç®¡ç†ä¼˜åŒ–æ¥è‡ªäº&lt;a class="link" href="https://www.python.org/dev/peps/pep-0484/" target="_blank" rel="noopener"
>&lt;code>PEP-484 Type Hint&lt;/code>&lt;/a>çš„å¼•å…¥ã€‚å€ŸåŠ©&lt;code>Type Hint&lt;/code>ï¼Œæˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥æå‡&lt;code>Python&lt;/code>ä»£ç çš„ç±»å‹æ ‡æ³¨ï¼Œä¿éšœåœ¨é‡æ„è¿‡ç¨‹ä¸­é¿å…å‡ºç°ä¸€äº›ä½çº§å¤±è¯¯ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬å¯ä»¥é€šè¿‡é«˜ç‰ˆæœ¬&lt;code>Python&lt;/code>æ–°åŠ çš„æ–°è¯­æ³•å¯ç”¨è¿™é¡¹ç‰¹æ€§ï¼Œç„¶åé€šè¿‡&lt;code>mypy&lt;/code>ç­‰å·¥å…·æ£€æŸ¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-python" data-lang="python">&lt;span style="color:#66d9ef">def&lt;/span> &lt;span style="color:#a6e22e">greeting&lt;/span>(name: str) &lt;span style="color:#f92672">-&amp;gt;&lt;/span> str:
&lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#e6db74">&amp;#39;Hello &amp;#39;&lt;/span> &lt;span style="color:#f92672">+&lt;/span> name
&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç„¶è€Œï¼Œåœ¨å®é™…å®è·µè¿‡ç¨‹ä¸­ï¼Œä¹Ÿå¾€å¾€å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œè¿™äº›é—®é¢˜æ¥è‡ªäºå¾ˆå¤šæ–¹é¢ï¼š&lt;/p></description></item><item><title>èŠèŠæ–°çš„Goè¯­è¨€é”™è¯¯å¤„ç†æ–¹æ¡ˆ</title><link>https://www.4async.com/2019/01/2019-01-25-go-new-xerrors/</link><pubDate>Fri, 25 Jan 2019 23:20:00 +0000</pubDate><guid>https://www.4async.com/2019/01/2019-01-25-go-new-xerrors/</guid><description>ä»Šå¤©æ—©äº›æ—¶å€™ï¼Œgolang/x/expä¸­é»˜é»˜çš„æ›´æ–°äº†ä¸€ä¸ªåæ›°xerrorsçš„åŒ…ï¼Œè¿™ä¸ªåŒ…å’ŒåŒæ ·å¤„äºgolang/x/expä¸‹çš„å¦ä¸€ä¸ªåå«errorsçš„åŒ…åå­—ååˆ†ç›¸ä¼¼ï¼Œå°±è¿ä»‹ç»ä¹Ÿéƒ½ä¸€è‡´ï¼š
Package errors implements functions to manipulate errors. This package implements the Go 2 draft designs for error inspection and printing ä»ç›®å‰çš„æƒ…å†µæ¥çœ‹ï¼ŒåŸºæœ¬ä¸Šé”™è¯¯çš„å¤„ç†å½¢å¼åŸºæœ¬å·²ç»å®šå‹ï¼Œå¤„ç†æ–¹å¼åˆ™æ˜¯ç±»ä¼¼äºä¹‹å‰çš„å¦ä¸€ä¸ªgithub.com/pkg/errorsåŒ…ï¼Œä½†æ˜¯å…·ä½“ç»†èŠ‚ä¸å°½ç›¸åŒã€‚
å¦‚ä½•å¤„ç†errorï¼Ÿ åœ¨ä¹‹å‰ä»‹ç»æ–‡ç« ä¸­æåˆ°è¿‡github.com/pkg/errorsåŒ…çš„è®¾è®¡æ€è·¯ï¼Œé‚£ä¹ˆåœ¨Goå›¢é˜Ÿçš„å®ç°ä¸­ï¼Œè¿™ç§æ€è·¯ä¹Ÿå¾—åˆ°äº†ç»§æ‰¿ã€‚å…ˆä»ä¸€ä¸ªå°ä¾‹å­å¼€å§‹ï¼š
package main import ( &amp;#34;fmt&amp;#34; &amp;#34;golang.org/x/exp/xerrors&amp;#34; ) func raiseError() error { return xerrors.New(&amp;#34;a new error&amp;#34;) } func main() { err := xerrors.Errorf(&amp;#34;raiseError: %w&amp;#34;, raiseError()) fmt.Println(err) } è¾“å‡ºç»“æœï¼š
raiseError: a new error çœ‹èµ·æ¥éå¸¸ç±»ä¼¼äºä¹‹å‰github.com/pkg/errorsçš„æ˜¾ç¤ºå†…å®¹ã€‚è€Œå…¶ä¸­xerrors.Errorfåˆ™å……å½“äº†ä¹‹å‰errors.Wrapçš„åŠŸèƒ½ã€‚ å…¶ä¸­å€¼å¾—ä¸€æçš„æ˜¯%wï¼Œè¿™ä¸ªç”¨äºåŒ…è£…é”™è¯¯ï¼Œåç»­éªŒè¯é”™è¯¯ä¸­ä¹Ÿä¼šç”¨åˆ°å…¶ä¸­çš„å€¼ã€‚
åŒæ—¶ï¼Œè¿™ä¸ªåŒ…ä¸­ä¹ŸåŒ…å«äº†å‡ ä¸ªéå¸¸æœ‰ç”¨çš„è¾…åŠ©å‡½æ•°ï¼Œåˆ†åˆ«æ˜¯ï¼šéªŒè¯é”™è¯¯ç±»å‹æ–¹æ³•Isã€é”™è¯¯ç±»å‹è½¬æ¢æ–¹æ³•Asã€é”™è¯¯å…³ç³»é“¾è§£é™¤æ–¹æ³•Opaqueå’Œæå–å†…å±‚é”™è¯¯æ–¹æ³•Unwrapã€‚æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªç®€å•çš„æ¼”ç¤ºæ¥è¯´æ˜è¿™ç§å…³ç³»ï¼š
var ( ErrBase = xerrors.New(&amp;#34;a new error&amp;#34;) ) func main() { err := xerrors.</description></item></channel></rss>